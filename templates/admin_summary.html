{% extends "base.html" %}

{% block title %}Зведений залишок{% endblock %}

{% block content %}
<div class="page-header mb-3">
    <h1 class="h4 mb-1">Зведений залишок по матеріалах</h1>
    <small>Показує сумарний залишок по кожному матеріалу (по всіх ємностях)</small>
</div>

<div class="card shadow-sm border-0">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-sm align-middle">
                <thead>
                <tr>
                    <th>Код</th>
                    <th>Назва</th>
                    <th>Од. виміру</th>
                    <th class="text-end">Залишок (усього)</th>
                </tr>
                </thead>
                <tbody>
                {% for m in materials %}
                    <tr class="{% if m.balance == 0 %}table-light{% endif %}">
                        <td><span class="badge text-bg-light">{{ m.code }}</span></td>
                        <td>{{ m.name }}</td>
                        <td>{{ m.unit }}</td>
                        <td class="text-end">
                            {{ m.balance }} {{ m.unit }}
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="4" class="text-center text-muted">
                            Матеріали не знайдені.
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <p class="text-muted small mb-0">
            Залишок рахується як сума операцій приходу (IN) мінус списання (OUT) по всіх ємностях.
        </p>
    </div>
</div>
{% endblock %}
